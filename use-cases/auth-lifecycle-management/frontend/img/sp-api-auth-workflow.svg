<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 861 1497.1949"
   version="1.1"
   id="svg116"
   sodipodi:docname="sp-api-auth-workflow.svg"
   inkscape:version="1.4 (e7c3feb1, 2024-10-09)"
   width="861"
   height="1497.1949"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs116" />
  <sodipodi:namedview
     id="namedview116"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.2914423"
     inkscape:cx="483.56787"
     inkscape:cy="355.02941"
     inkscape:window-width="2560"
     inkscape:window-height="1262"
     inkscape:window-x="0"
     inkscape:window-y="25"
     inkscape:window-maximized="0"
     inkscape:current-layer="svg116" />
  <!-- Background -->
  <!-- Container -->
  <!-- Title -->
  <text
     x="430.5"
     y="18.351562"
     font-family="Inter, sans-serif"
     font-size="24px"
     font-weight="700"
     text-anchor="middle"
     fill="#2563eb"
     id="text2">SP-API Authorization Lifecycle Management</text>
  <text
     x="430.5"
     y="48.351562"
     font-family="Inter, sans-serif"
     font-size="16px"
     font-weight="500"
     text-anchor="middle"
     fill="#4b5563"
     id="text3">App Client Credentials and Tenant Seller/Vendor Authorization</text>
  <!-- Lifecycle Containers -->
  <g
     id="g89"
     transform="translate(-69.499996,-41.648437)">
    <!-- Client Auth Lifecycle -->
    <rect
       x="70.129128"
       y="120.12913"
       width="419.74173"
       height="950.51233"
       fill="#ffffff"
       rx="9.9938507"
       ry="15.841872"
       stroke="#e5e7eb"
       stroke-width="1"
       id="rect3" />
    <text
       x="280"
       y="150"
       font-family="Inter, sans-serif"
       font-size="18px"
       font-weight="600"
       text-anchor="middle"
       fill="#1e40af"
       id="text4">App Client Lifecycle</text>
    <line
       x1="100"
       y1="170"
       x2="460"
       y2="170"
       stroke="#e5e7eb"
       stroke-width="1"
       id="line4" />
    <!-- Tenant Auth Lifecycle -->
    <rect
       x="510"
       y="120"
       width="420"
       height="950"
       fill="#ffffff"
       rx="10"
       ry="10"
       stroke="#e5e7eb"
       stroke-width="1"
       id="rect4" />
    <text
       x="720"
       y="150"
       font-family="Inter, sans-serif"
       font-size="18px"
       font-weight="600"
       text-anchor="middle"
       fill="#1e40af"
       id="text5">Tenant Seller/Vendor Authorization Lifecycle</text>
    <line
       x1="540"
       y1="170"
       x2="900"
       y2="170"
       stroke="#e5e7eb"
       stroke-width="1"
       id="line5" />
    <!-- Client Auth Steps -->
    <g
       id="g34">
      <!-- Step 1 -->
      <rect
         x="90"
         y="190"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#7c3aed"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect5" />
      <circle
         cx="110"
         cy="215"
         r="14"
         fill="#7c3aed"
         id="circle5" />
      <text
         x="110"
         y="220"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text6">1</text>
      <text
         x="135"
         y="205"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#6d28d9"
         id="text7">Create App Client</text>
      <text
         x="135"
         y="225"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text8">Register application in</text>
      <rect
         x="271.2836"
         y="211"
         width="182.8531"
         height="20"
         fill="#fef3c7"
         rx="9.1426554"
         ry="5"
         id="rect8"
         style="stroke-width:1.35223" />
      <text
         x="364"
         y="226"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#92400e"
         id="text9">Amazon Seller/Vendor Central</text>
      <text
         x="135"
         y="251"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text10">to receive</text>
      <rect
         x="200"
         y="237"
         width="60"
         height="20"
         fill="#ede9fe"
         rx="5"
         ry="5"
         id="rect10" />
      <text
         x="230"
         y="250"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#5b21b6"
         id="text11">Client ID</text>
      <text
         x="263"
         y="251"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text12">and</text>
      <rect
         x="289"
         y="237"
         width="90"
         height="20"
         fill="#ede9fe"
         rx="5"
         ry="5"
         id="rect12" />
      <text
         x="334"
         y="250"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#5b21b6"
         id="text13">Client Secret</text>
      <!-- Arrow -->
      <text
         x="280"
         y="305"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text14">↓</text>
      <!-- Step 2 -->
      <rect
         x="90"
         y="320"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#7c3aed"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect14" />
      <circle
         cx="110"
         cy="345"
         r="14"
         fill="#7c3aed"
         id="circle14" />
      <text
         x="110"
         y="350"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text15">2</text>
      <text
         x="135"
         y="335"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#6d28d9"
         id="text16">Configure Notification Destinations</text>
      <text
         x="135"
         y="360"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text17">Set up</text>
      <rect
         x="179"
         y="346"
         width="80"
         height="20"
         fill="#ede9fe"
         rx="5"
         ry="5"
         id="rect17" />
      <text
         x="219"
         y="359"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#5b21b6"
         id="text18">SQS Queues</text>
      <text
         x="260"
         y="360"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text19">as destinations for</text>
      <text
         x="135"
         y="380"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text20">client secret rotation and notification events.</text>
      <!-- Arrow -->
      <text
         x="280"
         y="435"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text21">↓</text>
      <!-- Step 3 -->
      <rect
         x="90"
         y="450"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#7c3aed"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect21" />
      <circle
         cx="110"
         cy="475"
         r="14"
         fill="#7c3aed"
         id="circle21" />
      <text
         x="110"
         y="480"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text22">3</text>
      <text
         x="135"
         y="465"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#6d28d9"
         id="text23">Initiate Client Secret Rotation</text>
      <text
         x="135"
         y="485"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text24">Call the rotation API to request a new</text>
      <rect
         x="338"
         y="471"
         width="90"
         height="20"
         fill="#ede9fe"
         rx="5"
         ry="5"
         id="rect24" />
      <text
         x="383"
         y="486"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#5b21b6"
         id="text25">Client Secret</text>
      <text
         x="135"
         y="505"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text26"><tspan
           sodipodi:role="line"
           id="tspan116"
           x="135"
           y="505">The new secret is delivered to the configured</tspan><tspan
           sodipodi:role="line"
           id="tspan117"
           x="135"
           y="520" /></text>
      <!-- Arrow -->
      <text
         x="280"
         y="565"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text27">↓</text>
      <!-- Step 4 -->
      <rect
         x="90"
         y="580"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#7c3aed"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect27" />
      <circle
         cx="110"
         cy="605"
         r="14"
         fill="#7c3aed"
         id="circle27" />
      <text
         x="110"
         y="610"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text28">4</text>
      <text
         x="135"
         y="595"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#6d28d9"
         id="text29">Update and Store Credentials</text>
      <text
         x="135"
         y="615"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text30">Receive the new</text>
      <rect
         x="234"
         y="601"
         width="80"
         height="20"
         fill="#ede9fe"
         rx="5"
         ry="5"
         id="rect30" />
      <text
         x="274"
         y="614"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#5b21b6"
         id="text31">Client Secret</text>
      <text
         x="315"
         y="615"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text32">via notifications,</text>
      <text
         x="135"
         y="635"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text33">update application configuration, and store securely in</text>
      <rect
         x="135"
         y="643"
         width="150"
         height="20"
         fill="#ede9fe"
         rx="5"
         ry="5"
         id="rect33" />
      <text
         x="210"
         y="656"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#5b21b6"
         id="text34">AWS Secrets Manager</text>
      <text
         xml:space="preserve"
         style="text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
         x="134.73308"
         y="524.67145"
         id="text118"><tspan
           sodipodi:role="line"
           id="tspan118"
           x="134.73308"
           y="524.67145"
           style="fill:#4b5563;fill-opacity:1">notification destination.</tspan></text>
    </g>
    <!-- Tenant Auth Steps -->
    <g
       id="g88">
      <!-- Step 1 -->
      <rect
         x="530"
         y="190"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#2563eb"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect34" />
      <circle
         cx="550"
         cy="215"
         r="14"
         fill="#2563eb"
         id="circle34" />
      <text
         x="550"
         y="220"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text35">1</text>
      <text
         x="575"
         y="205"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#1e40af"
         id="text36">Initiate Tenant Authorization</text>
      <text
         x="575"
         y="225"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text37">Redirect</text>
      <rect
         x="625"
         y="211"
         width="90"
         height="20"
         fill="#dbeafe"
         rx="5"
         ry="5"
         id="rect37" />
      <text
         x="670"
         y="224"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#1e40af"
         id="text38">Seller/Vendor</text>
      <text
         x="716"
         y="225"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text39">to Amazon's authorization page</text>
      <text
         x="575"
         y="245"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text40">with</text>
      <text
         x="600"
         y="245"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text41">application_id</text>
      <text
         x="685"
         y="245"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text42">,</text>
      <text
         x="695"
         y="245"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text43">state</text>
      <text
         x="725"
         y="245"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text44">, and</text>
      <text
         x="755"
         y="245"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text45">redirect_uri</text>
      <text
         x="820"
         y="245"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text46">.</text>
      <!-- Arrow -->
      <text
         x="720"
         y="305"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text47">↓</text>
      <!-- Step 2 -->
      <rect
         x="530"
         y="320"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#2563eb"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect47" />
      <circle
         cx="550"
         cy="345"
         r="14"
         fill="#2563eb"
         id="circle47" />
      <text
         x="550"
         y="350"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text48">2</text>
      <text
         x="575"
         y="335"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#1e40af"
         id="text49">Obtain Refresh Token</text>
      <text
         x="575"
         y="355"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text50">Exchange authorization code for a</text>
      <rect
         x="750"
         y="341"
         width="110"
         height="20"
         fill="#dbeafe"
         rx="5"
         ry="5"
         id="rect50" />
      <text
         x="805"
         y="354"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#1e40af"
         id="text51">Refresh Token</text>
      <text
         x="575"
         y="375"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text52">specific to this tenant. Store it securely with the</text>
      <!-- Arrow -->
      <text
         x="720"
         y="435"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text53">↓</text>
      <!-- Step 3 -->
      <rect
         x="530"
         y="450"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#2563eb"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect53" />
      <circle
         cx="550"
         cy="475"
         r="14"
         fill="#2563eb"
         id="circle53" />
      <text
         x="550"
         y="480"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text54">3</text>
      <text
         x="575"
         y="465"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#1e40af"
         id="text55">Access SP-API</text>
      <text
         x="575"
         y="485"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text56">Use the</text>
      <rect
         x="624"
         y="471"
         width="100"
         height="20"
         fill="#dbeafe"
         rx="5"
         ry="5"
         id="rect56" />
      <text
         x="676"
         y="484"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#1e40af"
         id="text57">Refresh Token</text>
      <text
         x="725"
         y="485"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text58">with</text>
      <rect
         x="575"
         y="495"
         width="140"
         height="20"
         fill="#ede9fe"
         rx="5"
         ry="5"
         id="rect58" />
      <text
         x="645"
         y="508"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#5b21b6"
         id="text59">Client Credentials</text>
      <text
         x="720"
         y="507"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text60">to obtain</text>
      <text
         x="575"
         y="529"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text61">temporary access tokens for SP-API requests.</text>
      <!-- Arrow -->
      <text
         x="720"
         y="565"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text62">↓</text>
      <!-- Step 4 -->
      <rect
         x="530"
         y="580"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#2563eb"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect62" />
      <circle
         cx="550"
         cy="605"
         r="14"
         fill="#2563eb"
         id="circle62" />
      <text
         x="550"
         y="610"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text63">4</text>
      <text
         x="575"
         y="595"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#1e40af"
         id="text64">Generate RDT (When Needed)</text>
      <text
         x="575"
         y="615"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text65">For accessing PII or restricted data, request a</text>
      <rect
         x="842.96893"
         y="601"
         width="53.031048"
         height="20"
         fill="#dcfce7"
         rx="4.4192538"
         ry="5"
         id="rect65"
         style="stroke-width:0.940133" />
      <text
         x="870"
         y="614"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#166534"
         id="text66">RDT</text>
      <text
         x="575"
         y="635"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text67">using the access token. This temporary token grants</text>
      <!-- Arrow -->
      <text
         x="720"
         y="695"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text68">↓</text>
      <!-- Step 5 -->
      <rect
         x="530"
         y="710"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#2563eb"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect68" />
      <circle
         cx="550"
         cy="735"
         r="14"
         fill="#2563eb"
         id="circle68" />
      <text
         x="550"
         y="740"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text69">5</text>
      <text
         x="575"
         y="725"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#1e40af"
         id="text70">Reauthorize When Needed</text>
      <text
         x="575"
         y="745"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text71">When permissions change or refresh token becomes</text>
      <rect
         x="673.79102"
         y="748.86749"
         width="90"
         height="20"
         fill="#dbeafe"
         rx="5"
         ry="5"
         id="rect71" />
      <text
         x="718.79102"
         y="761.86749"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#1e40af"
         id="text72">Seller/Vendor</text>
      <text
         x="766.79102"
         y="762.73914"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text73">back to Amazon's</text>
      <text
         x="661.72473"
         y="782.73914"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text74">page to obtain a new</text>
      <rect
         x="791.50323"
         y="769.64185"
         width="100"
         height="20"
         fill="#dbeafe"
         rx="5"
         ry="5"
         id="rect74" />
      <text
         x="841.50323"
         y="782.64185"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#1e40af"
         id="text75">Refresh Token</text>
      <text
         x="785"
         y="785"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text76">.</text>
      <!-- Arrow -->
      <text
         x="720"
         y="825"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text77">↓</text>
      <!-- Step 6 -->
      <rect
         x="530"
         y="840"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#2563eb"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect77" />
      <circle
         cx="550"
         cy="865"
         r="14"
         fill="#2563eb"
         id="circle77" />
      <text
         x="550"
         y="870"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text78">6</text>
      <text
         x="575"
         y="855"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#1e40af"
         id="text79">Manage Inactive Tenants</text>
      <text
         x="575"
         y="875"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text80">Track tenant engagement. Mark inactive tenants and</text>
      <rect
         x="693.47217"
         y="880.28778"
         width="120"
         height="20"
         fill="#dcfce7"
         rx="5"
         ry="5"
         id="rect80" />
      <text
         x="753.47217"
         y="893.28778"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#166534"
         id="text81">App Integration API</text>
      <text
         x="575.33313"
         y="914.29193"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text82">to encourage revocation.</text>
      <!-- Arrow -->
      <text
         x="720"
         y="955"
         font-family="Inter, sans-serif"
         font-size="18px"
         text-anchor="middle"
         fill="#94a3b8"
         id="text83">↓</text>
      <!-- Step 7 -->
      <rect
         x="530"
         y="970"
         width="380"
         height="100"
         fill="#f8fafc"
         rx="8"
         ry="8"
         stroke="#2563eb"
         stroke-width="3"
         stroke-opacity="1"
         stroke-dasharray="0, 380, 100, 0"
         id="rect83" />
      <circle
         cx="550"
         cy="995"
         r="14"
         fill="#2563eb"
         id="circle83" />
      <text
         x="550"
         y="1000"
         font-family="Inter, sans-serif"
         font-size="12px"
         font-weight="600"
         text-anchor="middle"
         fill="#ffffff"
         id="text84">7</text>
      <text
         x="575"
         y="985"
         font-family="Inter, sans-serif"
         font-size="14px"
         font-weight="600"
         fill="#1e40af"
         id="text85">Handle Revocations</text>
      <text
         x="575"
         y="1005"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text86">Detect authorization revocations (via API errors),</text>
      <rect
         x="719.34802"
         y="1009.7701"
         width="170"
         height="20"
         fill="#dbeafe"
         rx="5"
         ry="5"
         id="rect86" />
      <text
         x="804.34802"
         y="1024.77"
         font-family="Inter, sans-serif"
         font-size="10px"
         font-weight="600"
         text-anchor="middle"
         fill="#1e40af"
         id="text87">AUTHORIZATION_REVOKED</text>
      <text
         x="575.64783"
         y="1044.354"
         font-family="Inter, sans-serif"
         font-size="12px"
         fill="#4b5563"
         id="text88">and clean up tenant data.</text>
      <text
         xml:space="preserve"
         style="text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
         x="575.32574"
         y="654.30719"
         id="text119"><tspan
           sodipodi:role="line"
           id="tspan119"
           x="575.32574"
           y="654.30719">access to specific restricted operations.</tspan></text>
      <text
         xml:space="preserve"
         style="text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
         x="575.32574"
         y="764.26178"
         id="text120"><tspan
           sodipodi:role="line"
           id="tspan120"
           x="575.32574"
           y="764.26178">invalid, redirect</tspan></text>
      <text
         xml:space="preserve"
         style="text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
         x="577.64874"
         y="782.84564"
         id="text121"><tspan
           sodipodi:role="line"
           id="tspan121"
           x="577.64874"
           y="782.84564">authorization</tspan></text>
      <text
         xml:space="preserve"
         style="text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
         x="576.1001"
         y="394.90732"
         id="text122"><tspan
           sodipodi:role="line"
           id="tspan122"
           x="576.1001"
           y="394.90732">tenant's record</tspan></text>
      <text
         xml:space="preserve"
         style="text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
         x="571.00281"
         y="893.57465"
         id="text123"><tspan
           sodipodi:role="line"
           id="tspan123"
           x="571.00281"
           y="893.57465"> send reminders via</tspan></text>
      <text
         xml:space="preserve"
         style="text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
         x="576.1001"
         y="1024.436"
         id="text124"><tspan
           sodipodi:role="line"
           id="tspan124"
           x="576.1001"
           y="1024.436">update tenant status to</tspan></text>
    </g>
  </g>
  <!-- Relationship Diagram -->
  <rect
     x="0.40028751"
     y="1048.2518"
     width="860.1994"
     height="448.54279"
     fill="#eff6ff"
     rx="10.002319"
     ry="6.4077544"
     stroke="#e5e7eb"
     stroke-width="0.800575"
     id="rect89" />
  <text
     x="430.5"
     y="1078.3516"
     font-family="Inter, sans-serif"
     font-size="18px"
     font-weight="600"
     text-anchor="middle"
     fill="#1e40af"
     id="text89">Relationship Between App Client and Tenant Authorization</text>
  <!-- Single Client Credentials Box -->
  <rect
     x="205.5"
     y="1108.3516"
     width="450"
     height="50"
     fill="#ede9fe"
     rx="8"
     ry="8"
     id="rect90" />
  <text
     x="430.5"
     y="1133.3516"
     font-family="Inter, sans-serif"
     font-size="14px"
     font-weight="600"
     text-anchor="middle"
     fill="#5b21b6"
     id="text90">Single App Client Credentials</text>
  <text
     x="430.5"
     y="1153.3516"
     font-family="Inter, sans-serif"
     font-size="12px"
     font-weight="400"
     text-anchor="middle"
     fill="#6d28d9"
     id="text91">(Must be rotated periodically)</text>
  <!-- Connection Lines -->
  <rect
     x="230.5"
     y="1178.3516"
     width="4"
     height="60"
     fill="#7c3aed"
     id="rect91" />
  <rect
     x="430.5"
     y="1178.3516"
     width="4"
     height="60"
     fill="#7c3aed"
     id="rect92" />
  <rect
     x="630.5"
     y="1178.3516"
     width="4"
     height="60"
     fill="#7c3aed"
     id="rect93" />
  <!-- Tenant Authorization Boxes -->
  <rect
     x="118.5"
     y="1258.3516"
     width="200"
     height="40"
     fill="#dbeafe"
     rx="8"
     ry="8"
     id="rect94" />
  <text
     x="218.5"
     y="1283.3516"
     font-family="Inter, sans-serif"
     font-size="14px"
     font-weight="600"
     text-anchor="middle"
     fill="#1e40af"
     id="text94">Tenant A Authorization</text>
  <rect
     x="330.5"
     y="1258.3516"
     width="200"
     height="40"
     fill="#dbeafe"
     rx="8"
     ry="8"
     id="rect95" />
  <text
     x="430.5"
     y="1283.3516"
     font-family="Inter, sans-serif"
     font-size="14px"
     font-weight="600"
     text-anchor="middle"
     fill="#1e40af"
     id="text95">Tenant B Authorization</text>
  <rect
     x="542.5"
     y="1258.3516"
     width="200"
     height="40"
     fill="#dbeafe"
     rx="8"
     ry="8"
     id="rect96" />
  <text
     x="642.5"
     y="1283.3516"
     font-family="Inter, sans-serif"
     font-size="14px"
     font-weight="600"
     text-anchor="middle"
     fill="#1e40af"
     id="text96">Tenant C Authorization</text>
  <!-- Key Authorization Concepts Note -->
  <rect
     x="30.53458"
     y="1319.3252"
     width="803.80249"
     height="136.06102"
     fill="#eff6ff"
     rx="5.0237651"
     ry="7.5589452"
     stroke="#2563eb"
     stroke-width="4.92987"
     stroke-opacity="1"
     stroke-dasharray="0, 0, 90, 800"
     id="rect97" />
  <text
     x="50.500004"
     y="1346.3516"
     font-family="Inter, sans-serif"
     font-size="16px"
     font-weight="700"
     fill="#1e40af"
     id="text97">Key Authorization Concepts</text>
  <text
     x="50.500004"
     y="1367.3516"
     font-family="Inter, sans-serif"
     font-size="14px"
     fill="#4b5563"
     id="text98">Your application uses one set of client credentials (Client ID and Client Secret) that must be secured and</text>
  <text
     x="49.725674"
     y="1391.542"
     font-family="Inter, sans-serif"
     font-size="14px"
     fill="#4b5563"
     id="text99"><tspan
   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-family:Inter, sans-serif;-inkscape-font-specification:'Inter, sans-serif'"
   id="tspan125">rotated, while managing</tspan> multiple tenant authorizations (Refresh Tokens) that can be independently</text>
  <text
     x="49.725674"
     y="1415.0907"
     font-family="Inter, sans-serif"
     font-size="14px"
     fill="#4b5563"
     id="text100">authorized, revoked, or marked inactive. The client credentials are used alongside each tenant's refresh</text>
  <!-- Self-Authorization Special Case -->
  <!-- Models Comparison -->
  <!-- Standard Model Diagram -->
  <!-- Self-Auth Model Diagram -->
  <!-- Self-Authorization Description -->
  <!-- Bullet Points -->
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:14px;font-family:Inter, sans-serif;-inkscape-font-specification:'Inter, sans-serif';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#4b5563;fill-opacity:1"
     x="51.295185"
     y="1438.6724"
     id="text126"><tspan
       sodipodi:role="line"
       id="tspan126"
       x="51.295185"
       y="1438.6724"
       style="font-size:14px">token when making API calls.</tspan></text>
</svg>
